{% extends "front/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}


<div class="page-section" id="event">
    <section class="container">
        <a href="/"><img class="logo" src="{% static 'img/navbar-logo.png' %}" alt="HiPy Logo"></a>
        <a href="/">< Back</a>
        <br>
        <br>
        {% if not thanks %}
        <h3>Register for ...</h3>
        {% endif %}
        <div class="row">

            {% if thanks %}

            <div class="col-md-6">

                
                <div class="event-summary">

                    
                        <h3>{{ thanks }}</h3>
                        <p>You're all registered.</p>
                        <p>We won't send you an email confirmation. We won't bug you with annoying reminder emails. We expect competent humans to make a note of the date, time and location and arrive in style on the day.</p>
                        <p>A few bits of advice:</p>
                        <ul>
                            <li>Bring your own laptop (and charger) if you have one</li>
                            <li>Bring a mug for tea/coffee</li>
                            <li>Keep an eye on our <u><a href="https://twitter.com/hipyliv" target="_blank">X feed</a></u> for any extra information ahead of the event</li>
                        </ul>
                        <p>The benevolent AI overlords look forward to meeting you on the day (if we haven't met you already).</p>
                        <p>See you there!</p>
                    
              </div>

              
                
            </div>

            {% endif %}
            
 
            <div class="col-md-6">

                
                <div class="event-summary">
                    <h1>{{ event.name }}</h1>
                    <p>{{ event.long_description }}</p>
                    <p><strong>Date: </strong> {{ event.date }}, {{ event.time }}</p>
                    <p><strong>Location: </strong>{{ event.location }}</p>
                    <p><strong>Duration: </strong>{{ event.duration }} hrs</p>
                    <p><strong>Resources: </strong><u><a href="{{ event.resources }}" target="_blank">{{ event.resources }}</a></u></p>
                    {% if event.playlist %}
                        <p><strong>Playlist: </strong><u><a href="{{ event.playlist }}" target="_blank">{{ event.playlist|truncatechars:40 }}</a></u></p>
                    {% endif %}
                </div>
                
            </div>

            {% if not thanks %}

            <div class="col-md-6">

                
                <div class="event-summary">

                    
                        <form class="registration-form" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            {{ form|crispy }}
                            <br>
                            <button type="submit" class="btn btn-primary">Register</button>
                        </form>
                
              </div>

              
                
            </div>

            {% endif %}
            

        </div>
        <br>
        <div>
            <img class="event-thumb reg" src="{{ event.image.url }}" alt="{{ event.name }}">
            <br>
            <br>
            {% if tracks %}
                <h3>Event Playlist</h3>
                <hr style="border: none; height: 2px; background-color: white;">

                {% for track in tracks %}
                    <p>{{ forloop.counter }}. {{ track }}</p>
                {% endfor %}
            {% endif %}
        </div>

    </section>
</div>

{% endblock %}